{% extends "base.html" %}

{% block content %}
<h2 class="mb-3">👨‍🍳 Cooks</h2>

<a href="{% url 'users:cook-create' %}" class="btn btn-success mb-3">+ Add Cook</a>

<form method="get" class="mb-3">
  {{ search_form.as_p }}
  <button type="submit" class="btn btn-primary">Search</button>
</form>

<table class="table table-striped table-hover shadow-sm align-middle">
  <thead class="table-dark">
    <tr>
      <th>Username</th>
      <th>Name</th>
      <th>Experience (yrs)</th>
      <th class="text-center">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for cook in cook_list %}
      <tr>
        <td><a href="{% url 'users:cook-detail' cook.pk %}" class="text-decoration-none">{{ cook.username }}</a></td>
        <td>{{ cook.first_name }} {{ cook.last_name }}</td>
        <td>{{ cook.years_of_experience }}</td>
        <td class="text-center">
          <a href="{% url 'users:cook-update' cook.pk %}" class="btn btn-sm btn-warning me-1">✏️ Edit</a>
          <a href="{% url 'users:cook-delete' cook.pk %}" class="btn btn-sm btn-danger">🗑️ Delete</a>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="4" class="text-center text-muted">No cooks found</td></tr>
    {% endfor %}
  </tbody>
</table>

{% include "includes/pagination.html" %}
{% endblock %}
